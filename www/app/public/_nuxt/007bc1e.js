(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{407:function(e,t,o){var content=o(464);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(132).default)("0b27e2e6",content,!0,{sourceMap:!1})},462:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAjCAYAAABy3+FcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMdSURBVHgB7VRdSFNhGH6/c/ZDorBJc5Rpa+HGZNG0G6MIw8CbQIXoKvBIRHaVEHVZd9FFhBSBEMGkiy66KC+6C/QqQioXyuYURUUdktLC3+3snNNzzrbj2XHOCd0EvePj/d7ve97ne/92iP6CsP0upqenT8iyfAyrAqYoSdJiMBhcKIskHo+fZYw9VxSlGeYW1jbWEdhOjuM+WyyWB16vd9TowxmNyclJP9QoXv+SSqXq/X6/G8ujapvNVodoRkRRHJqdnT1JJVJoicViApWQqamp28CcL5oO0vAigktUhiAtRY2qsbFxXidBvjxeGMc2YATj/BfqE8W2AavGxDWP1HwodlqrCWpRB4cGoz/WvUQiUQPgteXl5VpEeR8YxfBArd1u14g1Erx2FMtiIOlHMZ+53W6X1WqNulyu44FA4Ckwr/U6AJ/JZJxGkiPGONHGt4juAvR1mE50pisajTaD8IUppSqdxCxIYRXFa8e2Mxe6wPN8RzqdThlxOLPoJAD9Nl6CoMXn8z1EB3pUGxF0Ir1HOD9nItnSSfDyCog285co4mPMgqeysnIFqfZgQhdmZmbqgXli4NgG6aJWjvwJ5uQTVFvezrX3HfQowEEQ34Rdlb/H/iOivarVkHaLeQfVfolLaw6kKh+0L5fiN0OkKdh36b/8A7Ln89g3Jji2rJKAFnYoMoXQaQf+u0nGUQS9HRwIvgmXJLk1IYR4przH1kP7y5yksK5XwXBkD0nv+I1W4vhhKldkdnngTHhEJ+kdEzxkU4YPiKBA4Ji0p9mp/qZwMvs9sUqdhyFQBZ84x45F7lP3GolMXHc5jhedrYVEPOvQSdCB0EEEbdXttJnZKDhjStaP28/pdEVDAcGauEpj61+LYrVPAeYgYo4mKSaptfoK8fgl0ksU3ZjY46wwiuymoyhDZsCa+JPimzFahS5GkHVmgzrJTobrV6fSDEqklujH+veiBOjxHCL5oJOE0WuGKaTDiMR6BgLhOZ1EFXX6MM5N6gslnZk29k35ac0eFZHeCUFA2boRbggABwYLkVJEJjZUIVJYnVIj/g+Jq1MjVlVenQAAAABJRU5ErkJggg=="},463:function(e,t,o){"use strict";o(407)},464:function(e,t,o){var n=o(131)((function(i){return i[1]}));n.push([e.i,".fade-enter-active[data-v-c7f072c8],.fade-leave-active[data-v-c7f072c8]{transition:opacity .5s}.fade-enter[data-v-c7f072c8],.fade-leave-to[data-v-c7f072c8]{opacity:0}.button-cancel[data-v-c7f072c8]{background:#ff515b;border:none;border-radius:25px;font-size:16px;height:60px;margin-left:25%;padding:10px;width:50%}.logo-status[data-v-c7f072c8]{align-self:center;height:auto;margin-bottom:10px;margin-top:10px;width:250px}.button-detail[data-v-c7f072c8],.button-detail-2[data-v-c7f072c8]{background:hsla(0,0%,100%,0);border:none;border-radius:50px;font-size:30px;font-weight:700;height:10px;margin-bottom:30px;margin-top:10px;padding:10px;width:20%}.card-2[data-v-c7f072c8]{align-items:center;background:#e5d2ff;border-radius:19px;box-shadow:0 4px 4px rgba(0,0,0,.25);box-sizing:border-box;display:flex;flex-direction:column;position:relative;top:-50px;width:355px;z-index:0}.card-3[data-v-c7f072c8]{align-items:start;text-align:left}.leave-item[data-v-c7f072c8]{align-items:center;border-bottom:1px solid #ddd;display:flex;justify-content:space-between;padding:10px 0}.leave-icon img[data-v-c7f072c8]{height:30px;width:auto}.leave-info p[data-v-c7f072c8]{font-size:14px;margin:0}.leave-actions a[data-v-c7f072c8]{color:#007bff;font-size:14px;margin-right:10px;-webkit-text-decoration:none;text-decoration:none}.leave-actions a[data-v-c7f072c8]:hover{-webkit-text-decoration:underline;text-decoration:underline}.modal[data-v-c7f072c8]{background-color:rgba(0,0,0,.4);display:flex;height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:1}.modal-content[data-v-c7f072c8]{background-color:#fefefe;border:1px solid #888;border-radius:8px;margin:15% auto;max-width:500px;padding:20px;width:80%}.close[data-v-c7f072c8]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[data-v-c7f072c8]:focus,.close[data-v-c7f072c8]:hover{color:#000;cursor:pointer;-webkit-text-decoration:none;text-decoration:none}",""]),n.locals={},e.exports=n},474:function(e,t,o){"use strict";o.r(t);var n=[function(){var e=this._self._c;return e("div",{staticClass:"leave-icon"},[e("img",{attrs:{src:o(462),alt:"leave icon"}})])}],r=o(0),l=o(41),c=(o(90),o(20),o(7),o(5),o(23),o(108),o(9),o(10),o(4),o(6),o(8),o(107)),v=o.n(c);function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach((function(t){Object(r.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var m={data:function(){return{statusIcon:"/home/status.png",statusLeave:"submitted",statusMessages:{submitted:"ส่งคำขอสำเร็จ",approving:"กำลังอนุมัติ",statusRequest:"สถานะคำขอ"},leaveDetails:{type:"",reason:"",date:"",time:""},leaveItems:[],data_user:{initialLeaveApprover:"หัวหน้าแผนก",finalLeaveApprover:"ผู้จัดการฝ่าย"},profile:{},pageleaveDetail:!1,modalVisible:!1,selectedLeave:{}}},watch:{leaveItems:function(e){if(e.length>0){var t=e[0];this.leaveDetails.type=t.type,this.leaveDetails.reason=t.reason,this.leaveDetails.date="".concat(t.startDate," - ").concat(t.endDate),this.leaveDetails.time="".concat(t.startTime," - ").concat(t.endTime)}else this.leaveDetails.type="ประเภทการลาเริ่มต้น",this.leaveDetails.reason="เหตุผลการลาเริ่มต้น",this.leaveDetails.date="01/01/2024 - 01/01/2024",this.leaveDetails.time="09:00 - 18:00"}},methods:{cancelRequest:function(){alert("คำขอถูกยกเลิก"),this.statusLeave="cancelled"},getLeavesByLineId:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,v.a.get("".concat("http://localhost:3002","/leave/getLeavesByLineId/").concat(e));case 3:n=o.sent,t.leaveItems=n.data.map((function(e){return f(f({},e),{},{showDetail:!1})})).sort((function(a,b){return new Date(b.sendDate)-new Date(a.sendDate)})),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.error("Error fetching leave data:",o.t0);case 10:case"end":return o.stop()}}),o,null,[[0,7]])})))()},openModal:function(e){this.selectedLeave=e,this.modalVisible=!0},formatDate:function(e){return new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"2-digit",day:"2-digit"})}},mounted:function(){var e=localStorage.getItem("profile");e&&(this.profile=JSON.parse(e),this.getLeavesByLineId(this.profile.userId))}},_=(o(463),o(88)),component=Object(_.a)(m,(function(){var e=this,t=e._self._c;return t("div",["submitted"===e.statusLeave?t("div",{staticClass:"card-2 mt-4 pt-4 pb-4"},[t("img",{staticClass:"logo-status",attrs:{src:e.statusIcon,alt:"status icon"}}),e._v(" "),t("div",{staticClass:"row text-center",staticStyle:{width:"100%"}},[t("div",{staticClass:"col"},[e._v(e._s(e.statusMessages.submitted))]),e._v(" "),t("div",{staticClass:"col"},[e._v(e._s(e.statusMessages.approving))]),e._v(" "),t("div",{staticClass:"col"},[e._v(e._s(e.statusMessages.statusRequest))])]),e._v(" "),t("br"),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.pageleaveDetail?t("div",{staticClass:"container"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"leaveType"}},[e._v("ประเภทการลา :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.leaveDetails.type,expression:"leaveDetails.type"}],staticClass:"form-control",attrs:{type:"text",id:"leaveType",disabled:""},domProps:{value:e.leaveDetails.type},on:{input:function(t){t.target.composing||e.$set(e.leaveDetails,"type",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"leaveReason"}},[e._v("เหตุผลการลา :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.leaveDetails.reason,expression:"leaveDetails.reason"}],staticClass:"form-control",attrs:{type:"text",id:"leaveReason",disabled:""},domProps:{value:e.leaveDetails.reason},on:{input:function(t){t.target.composing||e.$set(e.leaveDetails,"reason",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"leaveDate"}},[e._v("วัน/เดือน/ปี ที่ต้องการลา :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.leaveDetails.date,expression:"leaveDetails.date"}],staticClass:"form-control",attrs:{type:"text",id:"leaveDate",disabled:""},domProps:{value:e.leaveDetails.date},on:{input:function(t){t.target.composing||e.$set(e.leaveDetails,"date",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"leaveTime"}},[e._v("เวลา ที่ต้องการลา :")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.leaveDetails.time,expression:"leaveDetails.time"}],staticClass:"form-control",attrs:{type:"text",id:"leaveTime",disabled:""},domProps:{value:e.leaveDetails.time},on:{input:function(t){t.target.composing||e.$set(e.leaveDetails,"time",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mt-3"},[t("p",[e._v("ผู้อนุมัติการลาขั้นต้น")]),e._v(" "),t("p",[e._v(e._s(e.data_user.initialLeaveApprover))])]),e._v(" "),t("div",[t("p",[e._v("ผู้อนุมัติสูงสุด")]),e._v(" "),t("p",[e._v(e._s(e.data_user.finalLeaveApprover))])]),e._v(" "),t("button",{staticClass:"button-cancel",on:{click:e.cancelRequest}},[e._v("ยกเลิกคำขอ")])]):e._e()]),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.pageleaveDetail?e._e():t("button",{staticClass:"button-detail-2",on:{click:function(t){e.pageleaveDetail=!0}}},[e._v("...")])]),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.pageleaveDetail?t("button",{staticClass:"button-detail-2",on:{click:function(t){e.pageleaveDetail=!1}}},[e._v("...")]):e._e()])],1):e._e(),e._v(" "),t("div",{staticClass:"card-3"},[t("p",[e._v("รายการล่าสุด")]),e._v(" "),e._l(e.leaveItems,(function(o,n){return t("div",{key:n,staticClass:"leave-item"},[e._m(0,!0),e._v(" "),t("div",{staticClass:"leave-info"},[t("p",[e._v(e._s(o.type)+" / "+e._s(o.reason))]),e._v(" "),t("p",[e._v(e._s(o.startDate)+" | "+e._s(o.startTime))])]),e._v(" "),t("div",{staticClass:"leave-actions"},[o.hasEvidence?t("a",{attrs:{href:o.evidenceLink}},[e._v(e._s(o.evidenceText))]):e._e(),e._v(" "),t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openModal(o)}}},[e._v(e._s(o.showDetail?"ซ่อนรายละเอียด":"รายละเอียด"))])])])}))],2),e._v(" "),e.modalVisible?t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("span",{staticClass:"close",on:{click:function(t){e.modalVisible=!1}}},[e._v("×")]),e._v(" "),t("h2",[e._v("รายละเอียดการลา")]),e._v(" "),t("p",[e._v("ประเภทการลา: "+e._s(e.selectedLeave.type))]),e._v(" "),t("p",[e._v("เหตุผลการลา: "+e._s(e.selectedLeave.reason))]),e._v(" "),t("p",[e._v("วันที่: "+e._s(e.selectedLeave.startDate)+" ถึง "+e._s(e.selectedLeave.endDate))]),e._v(" "),t("p",[e._v("เวลา: "+e._s(e.selectedLeave.startTime)+" ถึง "+e._s(e.selectedLeave.endTime))]),e._v(" "),t("p",[e._v("วันที่ส่งคำขอ: "+e._s(e.formatDate(e.selectedLeave.sendDate)))]),e._v(" "),t("p",[e._v("สถานะ: "+e._s(e.selectedLeave.status))]),e._v(" "),t("p",[e._v("หมายเหตุ: "+e._s(e.selectedLeave.reasonText))])])]):e._e()])}),n,!1,null,"c7f072c8",null);t.default=component.exports}}]);